spring:
  datasource:
    url: ${DB_URL:jdbc:mysql://localhost:3306/community?serverTimezone=UTC&useSSL=false&useUnicode=true&characterEncoding=utf8}
    username: ${DB_USERNAME:root}
    password: ${DB_PASSWORD:}
    driver-class-name: com.mysql.cj.jdbc.Driver

  config:
    import: optional:file:.env[.properties]

  jpa:
    hibernate:
      ddl-auto: ${JPA_DDL_AUTO:update}
    show-sql: ${JPA_SHOW_SQL:true}
    properties:
      hibernate:
        format_sql: true
        # ↙︎ 아래 두 줄이 적용되어야 column명이 camelCase 그대로 사용됩니다.
        physical_naming_strategy: org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl
        implicit_naming_strategy: org.hibernate.boot.model.naming.ImplicitNamingStrategyLegacyJpaImpl

  thymeleaf:
    cache: ${THYMELEAF_CACHE:false}

  servlet:
    multipart:
      max-file-size: ${MULTIPART_MAX_FILE_SIZE:50MB}
      max-request-size: ${MULTIPART_MAX_REQUEST_SIZE:50MB}

springdoc:         # ← 'doc' 아님!
  api-docs:
    path: /v3/api-docs
  swagger-ui:
    path: /swagger-ui.html
    enabled: ${SWAGGER_ENABLED:true}

aws:
  region: ${AWS_REGION}
  s3:
    bucket: ${S3_BUCKET_NAME}
    public-base-url: ${S3_PUBLIC_BASE_URL}
    key-prefix: ${S3_KEY_PREFIX:}
    default-avatar-url: ${DEFAULT_AVATAR_URL}

logging:
  level:
    org.hibernate.SQL: ${LOG_SQL_LEVEL:debug}
    org.hibernate.type.descriptor.sql: ${LOG_SQL_BIND_LEVEL:trace}
    org.springframework.orm.jpa: ${LOG_SPRING_JPA_LEVEL:debug}
    org.hibernate.tool.hbm2ddl: ${LOG_HBM2DDL_LEVEL:debug}
    org.hibernate.orm.jdbc.bind: ${LOG_JDBC_BIND_LEVEL:trace}
    org.springframework.security: ${LOG_SECURITY_LEVEL:DEBUG}

jwt:
  secret: ${JWT_SECRET:dGhpc2lzbXlzdXBlcnNlY3JldGtleTEyMzQ1Njc4OTAxMjM0NTY3ODkw}
  access-expiration: ${JWT_ACCESS_MS:3600000}
  refresh-expiration: ${JWT_REFRESH_MS:1209600000}

security:
  cookie:
    domain: ${COOKIE_DOMAIN:localhost}
    path: "/"
    secure: ${COOKIE_SECURE:false}
    same-site: ${COOKIE_SAMESITE:Lax}

app:
  upload:
    dir: ${UPLOAD_DIR:/Users/chaerim/workspace/ktb3-cloudnative/week4-community-backend/community-backend/uploads}
    public-base-url: ${PUBLIC_BASE_URL:http://localhost:8080/files}

management:
  endpoints:
    web:
      exposure:
        include: "health,info"
  endpoint:
    health:
      probes:
        enabled: true